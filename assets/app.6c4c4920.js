import{p as s}from"./index.e7374b58.js";const i=2e3,n=s("app",{state:()=>({loading:!1,user:null,view:null,notices:[]}),actions:{isAdmin(){if(!this.user)return!1;for(let e of this.user.perms||[])if(e.model==="*"&&e.action==="*"&&e.id==="*")return!0;return!1},pushNotice(e,t){this.notices.push({type:e,message:t,at:Date.now()})},autoCleanNotice(){setInterval(()=>{const e=Date.now();do{let t=this.notices[0];if(!t)break;if(e-t.at>i)this.notices.shift();else break}while(this.notices.length>0)},100)}}});export{n as u};
